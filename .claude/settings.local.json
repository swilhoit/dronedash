{
  "permissions": {
    "allow": [
      "Bash(npm install)",
      "Bash(npm view:*)",
      "Bash(curl:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git remote add:*)",
      "Bash(git remote set-url:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(hcloud server:*)",
      "Bash(ssh root@178.156.198.233 \"ls -la && which node && which nginx && cat /etc/os-release | head -3\")",
      "Bash(ssh root@178.156.198.233 \"cat /etc/os-release | head -3 && echo ''---'' && docker --version 2>/dev/null || echo ''no docker'' && echo ''---'' && node --version 2>/dev/null || echo ''no node'' && echo ''---'' && which python3\")",
      "Bash(ssh root@178.156.198.233 \"mkdir -p /root/cors-proxy && cat > /root/cors-proxy/nginx.conf << ''EOF''\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    server {\n        listen 8080;\n        \n        location /proxy {\n            # Extract the URL from query parameter\n            set $target_url \"\"\"\";\n            if ($arg_url != \"\"\"\") {\n                set $target_url $arg_url;\n            }\n            \n            # Proxy to the target URL\n            resolver 8.8.8.8;\n            proxy_pass $target_url;\n            proxy_ssl_server_name on;\n            \n            # Add CORS headers\n            add_header ''Access-Control-Allow-Origin'' ''*'' always;\n            add_header ''Access-Control-Allow-Methods'' ''GET, OPTIONS'' always;\n            add_header ''Access-Control-Allow-Headers'' ''Origin, Content-Type, Accept'' always;\n            \n            # Handle preflight\n            if ($request_method = ''OPTIONS'') {\n                add_header ''Access-Control-Allow-Origin'' ''*'';\n                add_header ''Access-Control-Allow-Methods'' ''GET, OPTIONS'';\n                add_header ''Access-Control-Allow-Headers'' ''Origin, Content-Type, Accept'';\n                add_header ''Content-Length'' 0;\n                add_header ''Content-Type'' ''text/plain'';\n                return 204;\n            }\n        }\n    }\n}\nEOF\ncat /root/cors-proxy/nginx.conf\")",
      "Bash(ssh root@178.156.198.233 \"cd /root/cors-proxy && docker compose down 2>/dev/null; docker compose up -d --build\")",
      "WebFetch(domain:cesium.com)",
      "Bash(npm run build:*)",
      "Bash(npm install:*)",
      "Bash(vercel:*)",
      "Bash(ssh root@178.156.198.233 \"cat > /etc/caddy/Caddyfile << ''EOF''\nproxy.178-156-198-233.nip.io {\n    reverse_proxy localhost:8080\n\n    header {\n        Access-Control-Allow-Origin *\n        Access-Control-Allow-Methods \"\"GET, OPTIONS\"\"\n        Access-Control-Allow-Headers \"\"Origin, Content-Type, Accept\"\"\n    }\n\n    @options method OPTIONS\n    respond @options 204\n}\nEOF\nsystemctl restart caddy && systemctl status caddy\")",
      "Bash(ssh root@178.156.198.233 \"curl -s ''http://localhost:8080/proxy?url=https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png'' | head -c 100 && echo ''... (image data)''\")",
      "Bash(ssh root@178.156.198.233 \"docker ps | grep cors && echo ''---'' && docker logs cors-proxy-cors-proxy-1 --tail 20\")",
      "Bash(ssh:*)",
      "mcp__ide__getDiagnostics",
      "Bash(GIT_CURL_VERBOSE=1 git push:*)",
      "Bash(gh auth status:*)",
      "Bash(gh repo sync:*)",
      "Bash(gh auth:*)",
      "Bash(git restore:*)"
    ],
    "deny": [],
    "ask": []
  }
}
